<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FinanzasPro AR</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar">
    <div class="nav-left">
      <div class="logo" aria-hidden="true">
        <span class="logo-dot"></span>
        <span class="logo-dot is-soft"></span>
      </div>
      <div class="brand">
        <div class="brand-name">FinanzasPro</div>
        <div class="brand-suffix">AR</div>
      </div>
    </div>

    <div class="nav-center" role="tablist" aria-label="NavegaciÃ³n">
      <button class="tab is-active" id="tabDashboard" type="button" role="tab" aria-selected="true">
        <span class="tab-ico">ðŸ“ˆ</span> Dashboard
      </button>
      <button class="tab" id="tabMiMes" type="button" role="tab" aria-selected="false">
        <span class="tab-ico">ðŸ“…</span> Mi Mes
      </button>
    </div>

    <div class="nav-right">
      <button class="btn btn-primary" id="btnOpenModal" type="button">
        <span class="btn-ico">ï¼‹</span> Agregar Movimiento
      </button>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section class="hero">
      <div>
        <h1 class="hero-title">Hola, Usuario</h1>
        <p class="hero-sub">Estado financiero para <span id="heroMonthLabel">â€”</span></p>
      </div>

      <div class="hero-actions">
        <div class="month-picker">
          <div style="display:flex;flex-direction:column;gap:2px;width:100%">
            <div class="month-label">Mes</div>
            <input id="monthInput" type="month" />
          </div>
        </div>
        <button class="btn btn-secondary" id="btnImportPdf" type="button">â¤´ï¸Ž Importar PDF</button>
      </div>
    </section>

    <!-- DASHBOARD VIEW -->
    <section class="view is-active" id="viewDashboard">
      <section class="cards">
        <article class="card card-dark">
          <div class="card-top">
            <div class="card-title">REMANENTE ESTIMADO</div>
            <div class="card-icon" aria-hidden="true">ðŸª™</div>
          </div>
          <div class="card-amount" id="cardRemainder">$0</div>
          <div class="card-meta">Disponible para ahorro</div>
        </article>

        <article class="card">
          <div class="card-top">
            <div class="card-title">INGRESOS</div>
            <div class="badge badge-green" aria-hidden="true">â†—</div>
          </div>
          <div class="card-amount" id="cardIncome">$0</div>
          <div class="card-meta">Total acumulado</div>
        </article>

        <article class="card">
          <div class="card-top">
            <div class="card-title">GASTOS</div>
            <div class="badge badge-red" aria-hidden="true">â†˜</div>
          </div>
          <div class="card-amount" id="cardExpense">$0</div>
          <div class="card-meta"><span id="paidCount">0</span> pagados de <span id="totalCount">0</span></div>
        </article>
      </section>

      <section class="panel">
        <div class="panel-head">
          <div class="panel-title">
            <span class="panel-ico" aria-hidden="true">ðŸ“ˆ</span>
            ProyecciÃ³n Financiera (6 Meses)
          </div>
          <div class="panel-total" id="projHint" style="color:#64748b;font-size:14px;font-weight:850">
            (estimada)
          </div>
        </div>
        <div class="projection" id="projectionGrid"></div>
      </section>
    </section>

    <!-- MI MES VIEW -->
    <section class="view" id="viewMiMes">
      <section class="panel">
        <div class="panel-head">
          <div class="panel-title is-green">
            <span class="panel-ico" aria-hidden="true">â†—</span> Ingresos
          </div>
          <div class="panel-total is-green" id="monthIncomeTotal">$0</div>
        </div>
        <div class="panel-body">
          <div id="incomeEmpty" class="empty hidden">No hay ingresos registrados.</div>
          <ul id="incomeList" class="list"></ul>
        </div>
      </section>

      <section class="panel">
        <div class="panel-head panel-head--compact">
          <div class="panel-title is-red">
            <span class="panel-ico" aria-hidden="true">â†˜</span> Gastos y Obligaciones
          </div>
          <div class="panel-total is-red" id="monthExpenseTotal">$0</div>
        </div>
        <div class="panel-body">
          <div id="expenseEmpty" class="empty hidden">Todo limpio por aquÃ­.</div>

          <div class="table" id="expenseTable">
            <div class="th">
              <div>DETALLE</div>
              <div class="th-right">MONTO</div>
            </div>
            <div id="expenseRows"></div>
          </div>
        </div>
      </section>
    </section>
  </main>

  <!-- FAB (mobile quick add) -->
  <button class="fab" id="fabOpenModal" type="button" aria-label="Agregar movimiento">+</button>

  <!-- MODAL -->
  <div class="modal-overlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-head">
        <h2 class="modal-title" id="modalTitle">Nuevo Movimiento</h2>
        <button class="icon-btn" id="btnCloseModal" type="button" aria-label="Cerrar">âœ•</button>
      </div>

      <div class="modal-tabs" role="tablist" aria-label="Tipo de movimiento">
        <button class="modal-tab is-active" id="modalTabGasto" type="button" role="tab" aria-selected="true">
          Gasto / Compra
        </button>
        <button class="modal-tab" id="modalTabIngreso" type="button" role="tab" aria-selected="false">
          Ingreso
        </button>
      </div>

      <form class="form" id="movementForm">
        <div class="field">
          <label for="descInput">DescripciÃ³n</label>
          <input id="descInput" type="text" placeholder="Ej: Supermercado, TV Led..." required />
        </div>

        <div class="grid-2">
          <div class="field">
            <label for="amountInput" id="amountLabel">Monto</label>
            <input id="amountInput" type="number" inputmode="decimal" step="0.01" min="0" placeholder="$ 0.00" required />
          </div>

          <div class="field">
            <label for="startMonthInput">Mes inicio</label>
            <input id="startMonthInput" type="month" required />
          </div>
        </div>

        <div class="field">
          <label for="categorySelect">CategorÃ­a</label>
          <select id="categorySelect" required>
            <option>Consumo General</option>
            <option>Gasto Fijo (Alquiler/Servicios)</option>
            <option>Tarjeta de CrÃ©dito</option>
            <option>PrÃ©stamo Personal</option>
          </select>
        </div>

        <div class="installments is-hidden" id="installmentsBox">
          <div class="installments-head">
            <div class="installments-ico" aria-hidden="true">ðŸ’³</div>
            <div>
              <div class="installments-title">ConfiguraciÃ³n de Cuotas</div>
              <div class="installments-sub">El monto se interpreta como valor de la cuota</div>
            </div>
          </div>

          <div class="installments-row">
            <div class="field small">
              <label for="installmentsInput">CANT. CUOTAS</label>
              <input id="installmentsInput" type="number" min="1" step="1" value="1" />
            </div>
            <div class="installments-math" id="installmentsMath">x $0 = Total $0</div>
          </div>

          <p class="installments-hint" id="installmentsHint">
            El sistema generarÃ¡ automÃ¡ticamente N registros mensuales comenzando en YYYY-MM.
          </p>
        </div>

        <button class="btn btn-dark" id="btnSaveMovement" type="submit">Guardar Movimiento</button>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
